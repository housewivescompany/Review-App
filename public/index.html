<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Creative Approval Tool</title>
  <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
  <div id="app">
    <!-- Header -->
    <header class="header">
      <div class="header-inner">
        <a href="/" class="logo">
          <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
            <path d="M2 17l10 5 10-5"></path>
            <path d="M2 12l10 5 10-5"></path>
          </svg>
          <span>ReviewFlow</span>
        </a>
      </div>
    </header>

    <!-- Main Content -->
    <main class="main">
      <!-- Projects List View -->
      <div id="projects-view">
        <div class="section-header">
          <div>
            <h1>Projects</h1>
            <p class="subtitle">Manage creative approvals for your clients</p>
          </div>
          <button class="btn btn-primary" onclick="showNewProjectModal()">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
            New Project
          </button>
        </div>

        <div id="projects-list" class="projects-grid">
          <!-- Populated by JS -->
        </div>
        <div id="empty-state" class="empty-state" style="display:none;">
          <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>
          </svg>
          <h2>No projects yet</h2>
          <p>Create your first project to start collecting creative approvals</p>
          <button class="btn btn-primary" onclick="showNewProjectModal()">Create Project</button>
        </div>
      </div>

      <!-- Single Project View -->
      <div id="project-view" style="display:none;">
        <div class="breadcrumb">
          <a href="#" onclick="showProjectsList(); return false;">Projects</a>
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"></polyline></svg>
          <span id="project-breadcrumb-name"></span>
        </div>

        <div class="section-header">
          <div>
            <h1 id="project-title"></h1>
            <p class="subtitle" id="project-client"></p>
          </div>
          <div class="header-actions">
            <button class="btn btn-outline" onclick="copyShareLink()">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path><polyline points="16 6 12 2 8 6"></polyline><line x1="12" y1="2" x2="12" y2="15"></line></svg>
              Share Review Link
            </button>
            <button class="btn btn-danger-outline" onclick="confirmDeleteProject()">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path></svg>
              Delete
            </button>
          </div>
        </div>

        <!-- Progress Bar -->
        <div class="approval-progress">
          <div class="progress-stats">
            <span class="stat stat-approved"><span class="dot dot-approved"></span> <span id="approved-count">0</span> Approved</span>
            <span class="stat stat-pending"><span class="dot dot-pending"></span> <span id="pending-count">0</span> Pending</span>
            <span class="stat stat-revision"><span class="dot dot-revision"></span> <span id="revision-count">0</span> Revisions</span>
          </div>
          <div class="progress-bar">
            <div id="progress-fill" class="progress-fill"></div>
          </div>
        </div>

        <!-- Upload Zone -->
        <div id="upload-zone" class="upload-zone">
          <input type="file" id="file-input" multiple accept="image/*,video/*,.pdf" style="display:none;">
          <div class="upload-content">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
              <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
              <polyline points="17 8 12 3 7 8"></polyline>
              <line x1="12" y1="3" x2="12" y2="15"></line>
            </svg>
            <h3>Drag & drop files here</h3>
            <p>or <button class="link-btn" onclick="document.getElementById('file-input').click()">browse files</button></p>
            <p class="upload-hint">Supports images, videos, and PDFs (up to 500MB each)</p>
          </div>
          <div class="upload-progress" id="upload-progress" style="display:none;">
            <div class="upload-progress-bar">
              <div class="upload-progress-fill" id="upload-progress-fill"></div>
            </div>
            <p id="upload-status">Uploading...</p>
          </div>
        </div>

        <!-- Creatives Grid -->
        <div id="creatives-grid" class="creatives-grid">
          <!-- Populated by JS -->
        </div>
      </div>
    </main>

    <!-- New Project Modal -->
    <div id="new-project-modal" class="modal-overlay" style="display:none;">
      <div class="modal">
        <div class="modal-header">
          <h2>New Project</h2>
          <button class="close-btn" onclick="hideNewProjectModal()">&times;</button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label for="project-name-input">Project Name *</label>
            <input type="text" id="project-name-input" placeholder="e.g., Brand Campaign Q1 2025" autofocus>
          </div>
          <div class="form-group">
            <label for="client-name-input">Client Name</label>
            <input type="text" id="client-name-input" placeholder="e.g., Acme Corp">
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-ghost" onclick="hideNewProjectModal()">Cancel</button>
          <button class="btn btn-primary" onclick="createProject()">Create Project</button>
        </div>
      </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="delete-modal" class="modal-overlay" style="display:none;">
      <div class="modal modal-sm">
        <div class="modal-header">
          <h2>Delete Project</h2>
          <button class="close-btn" onclick="hideDeleteModal()">&times;</button>
        </div>
        <div class="modal-body">
          <p>Are you sure you want to delete this project? All creatives and comments will be permanently removed. This action cannot be undone.</p>
        </div>
        <div class="modal-footer">
          <button class="btn btn-ghost" onclick="hideDeleteModal()">Cancel</button>
          <button class="btn btn-danger" onclick="deleteProject()">Delete Project</button>
        </div>
      </div>
    </div>

    <!-- Toast -->
    <div id="toast" class="toast" style="display:none;"></div>
  </div>

  <script src="/js/app.js"></script>
</body>
</html>
